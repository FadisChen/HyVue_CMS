---
description: 
globs: 
alwaysApply: false
---
# 新增頁面情境指南

本文檔提供了在 HyVue CMS 系統中從自然語言需求創建新頁面的方法。

## 自然語言需求解析

使用者通常會使用自然語言描述他們需要的新頁面，例如：

> "新增一個訂單管理頁面，顯示訂單編號、客戶名稱、訂單日期、金額和狀態，可以篩選訂單狀態"

從這種描述中，需要識別出：
- 頁面名稱：訂單管理頁面
- 需要的元件：data-table（列表顯示）
- 欄位信息：訂單編號、客戶名稱、訂單日期、金額和狀態
- 功能需求：篩選訂單狀態

## 基本頁面結構

根據自然語言需求，創建的新頁面通常應遵循以下結構：

```vue
<template>
  <v-container>
    <v-card>
      <v-card-title>
        <!-- 頁面標題 -->
        頁面名稱
        <v-spacer></v-spacer>
        <!-- 搜索或篩選控件（如果需要） -->
      </v-card-title>
      <v-card-text>
        <!-- 主要內容元件 -->
      </v-card-text>
    </v-card>
  </v-container>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue';
// 引入所需元件
// ...

// 狀態定義
const pageTitle = ref('頁面名稱');
const isLoading = ref(false);

// 生命週期鉤子
onMounted(() => {
  console.log('Page mounted');
});
</script>

<style lang="scss" scoped>
/* 樣式 */
</style>
```

## 需求示例與實現

### 示例1：員工管理頁面

自然語言需求：
> "新增員工管理頁面，使用表格顯示員工信息，包括姓名、部門、職位、入職日期和薪資，頁面上方需要一個搜索框，可以搜索員工姓名，還需要有編輯和刪除按鈕"

實現代碼：

```vue
<template>
  <v-container fluid>
    <v-card>
      <v-card-title>
        員工管理
        <v-spacer></v-spacer>
        <v-text-field
          v-model="search"
          append-icon="mdi-magnify"
          label="搜索員工姓名"
          single-line
          hide-details
          density="compact"
        ></v-text-field>
      </v-card-title>
      <v-card-text>
        <data-table
          :headers="headers"
          :items="employees"
          :search="search"
        >
          <template v-slot:item.actions="{ item }">
            <v-btn size="small" color="primary" icon class="mr-2">
              <v-icon>mdi-pencil</v-icon>
            </v-btn>
            <v-btn size="small" color="error" icon>
              <v-icon>mdi-delete</v-icon>
            </v-btn>
          </template>
        </data-table>
      </v-card-text>
    </v-card>
  </v-container>
</template>

<script setup>
import { ref } from 'vue';
import DataTable from '@/components/dataTable.vue';

const search = ref('');
const headers = ref([
  { title: '姓名', key: 'name' },
  { title: '部門', key: 'department' },
  { title: '職位', key: 'position' },
  { title: '入職日期', key: 'joinDate' },
  { title: '薪資', key: 'salary' },
  { title: '操作', key: 'actions', sortable: false },
]);
const employees = ref([
  // 員工數據示例
  { name: '張三', department: '研發部', position: '工程師', joinDate: '2020-01-15', salary: '8000' },
  { name: '李四', department: '市場部', position: '經理', joinDate: '2019-05-20', salary: '12000' },
]);
</script>
```

### 示例2：數據報表頁面

自然語言需求：
> "建立一個銷售報表頁面，上方有日期選擇器可以選擇時間範圍，下方使用餅圖顯示產品類別銷售比例，和柱狀圖展示各區域銷售額"

實現代碼：

```vue
<template>
  <v-container fluid>
    <v-card class="mb-4">
      <v-card-title>
        銷售報表
      </v-card-title>
      <v-card-text>
        <v-row>
          <v-col cols="12" md="6">
            <datepicker-modal 
              v-model="startDate" 
              label="開始日期"
            />
          </v-col>
          <v-col cols="12" md="6">
            <datepicker-modal 
              v-model="endDate" 
              label="結束日期"
            />
          </v-col>
        </v-row>
      </v-card-text>
    </v-card>

    <v-row>
      <v-col cols="12" md="6">
        <v-card>
          <v-card-title>產品類別銷售比例</v-card-title>
          <v-card-text>
            <pie-chart />
          </v-card-text>
        </v-card>
      </v-col>
      <v-col cols="12" md="6">
        <v-card>
          <v-card-title>各區域銷售額</v-card-title>
          <v-card-text>
            <bar-chart />
          </v-card-text>
        </v-card>
      </v-col>
    </v-row>
  </v-container>
</template>

<script setup>
import { ref } from 'vue';
import DatepickerModal from '@/components/datepickerModal.vue';
import PieChart from '@/components/chart/pieChart.vue';
import BarChart from '@/components/chart/barChart.vue';

const startDate = ref(null);
const endDate = ref(null);
</script>
```

## 頁面元件組合

創建新頁面時，可以使用元件組合語法：

```
[admin-layout]
  [function-navigation]
  [page-view]
    [v-container]
      [v-row]
        [v-col cols=12]
          <!-- 在此插入頁面特定元件 -->
          [data-table]
          [pie-chart]
```

## 可用元件

### 基礎UI元件

| 組件類型 | 名稱 | 代號 | 路徑 |
|---------|------|------|------|
| 表格 | 數據表格 | data-table | [src/components/dataTable.vue](mdc:src/components/dataTable.vue) |
| 表格 | 服務器數據表格 | data-table-server | [src/components/dataTableServer.vue](mdc:src/components/dataTableServer.vue) |
| 日期選擇器 | 日期選擇模態框 | datepicker-modal | [src/components/datepickerModal.vue](mdc:src/components/datepickerModal.vue) |
| 導航 | 功能導航列表 | function-navigation | [src/components/functionNavigation.vue](mdc:src/components/functionNavigation.vue) |
| 樹形控件 | 樹形項目 | tree-item | [src/components/TreeItem.vue](mdc:src/components/TreeItem.vue) |

### 圖表元件

| 組件類型 | 名稱 | 代號 | 路徑 |
|---------|------|------|------|
| 圖表 | 餅圖 | pie-chart | [src/components/chart/pieChart.vue](mdc:src/components/chart/pieChart.vue) |
| 圖表 | 區域圖 | area-chart | [src/components/chart/areaChart.vue](mdc:src/components/chart/areaChart.vue) |
| 圖表 | 柱狀圖 | bar-chart | [src/components/chart/barChart.vue](mdc:src/components/chart/barChart.vue) |
| 圖表 | 線柱混合圖 | line-bar-chart | [src/components/chart/lineAndBarChart.vue](mdc:src/components/chart/lineAndBarChart.vue) |
| 圖表 | 折線圖 | line-chart | [src/components/chart/lineChart.vue](mdc:src/components/chart/lineChart.vue) |

## 路由配置

新頁面創建後需要在路由配置中添加路由，路由配置文件位於 [src/router/index.js](mdc:src/router/index.js)：

```js
// 添加新頁面路由
const routes = [
  {
    path: "/",
    component: () => import("@/views/layout/adminLayout.vue"),
    children: [
      // 在這裡添加新路由
      {
        path: "employee-management", // URL路徑
        component: () => import("@/views/admin/EmployeeManagement.vue"), // 元件路徑
      },
      // ... 其他路由
    ],
  },
];
```

## 創建新頁面的步驟

1. 在 `src/views/admin/` 目錄下創建新的 Vue 元件文件
2. 參考上述基本頁面結構，設計頁面內容
3. 引入並使用需要的元件
4. 在路由配置中添加新頁面的路由
5. 如有需要，在側邊導航中添加該頁面的入口



